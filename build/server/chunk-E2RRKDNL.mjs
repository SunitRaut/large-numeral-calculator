import './polyfills.server.mjs';
import{C as D,F as B,a as _,b as d,c as y,d as s,e as r,f as h,g as o,h as T,i as f,j as C,k as g,l as b,s as S,u as E,v as k,y as A}from"./chunk-QTIECKOJ.mjs";var M=(()=>{let a=class a{constructor(){this.sendInput=new y}onClick(i){this.sendInput.emit(i)}};a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=_({type:a,selectors:[["app-button"]],inputs:{value:"value"},outputs:{sendInput:"sendInput"},standalone:!0,features:[b],decls:2,vars:1,consts:[[3,"click"]],template:function(n,e){n&1&&(s(0,"button",0),o("click",function(){return e.onClick(e.value)}),C(1),r()),n&2&&(d(),g(e.value))},styles:["button[_ngcontent-%COMP%]{border-radius:50%;cursor:pointer;margin:2px}"]});let m=a;return m})();var L=(()=>{let a=class a{};a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=_({type:a,selectors:[["app-screen"]],inputs:{line1:"line1",line2:"line2"},standalone:!0,features:[b],decls:5,vars:2,consts:[["id","'line1"],["id","'line2"]],template:function(n,e){n&1&&(s(0,"div")(1,"p",0),C(2),r(),s(3,"p",1),C(4),r()()),n&2&&(d(2),g(e.line1),d(2),g(e.line2))},styles:["div[_ngcontent-%COMP%]{color:#fff;background-color:#000;text-align:right;padding:2px}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1px;height:20px;font-size:18px}"]});let m=a;return m})();var O=(()=>{let a=class a{constructor(){this.title="large-number-verbal-calculator",this.line1="0",this.line2="",this.numbers=[0],this.ops=[""],this.c_units="",this.multiplier=10,this.precision=0,this.inactive=!1,this.prev="",this.LkCrDisplay="inline",this.MiBiTrDisplay="inline",this.units=[""]}handleInput(i){if(this.inactive==!0)return;setTimeout(()=>{this.inactive=!1},50),this.inactive=!0;let n=this.numbers.length-1;var e="";if(i>="0"&&i<="9"){var p=this.numbers[n];if(this.multiplier>=1)p=parseInt(i)+p*this.multiplier;else{var t=parseFloat((parseInt(i)*this.multiplier).toPrecision(1));p=parseFloat((t+p).toFixed(this.precision)),this.multiplier/=10,this.precision++}this.numbers[n]=p,this.prev="numbers"}else if(i=="."){if(this.multiplier<1)return;this.multiplier=.1,this.precision=1,e=".",this.numbers[n]=parseFloat(this.numbers[n].toFixed(1))}else if(i=="+"||i=="-"||i=="x"||i=="\xF7")this.precision=0,this.multiplier=10,this.numbers.push(0),this.ops.push(i),this.units.push(""),e=i,this.prev="ops";else if(i=="="){this.calculate_answer(),this.prev="numbers";return}else if(i=="Lk"||i=="Cr"||i=="Mi"||i=="Bi"||i=="Tr"){if(this.numbers[n]==0||this.c_units=="LkCr"&&!(i=="Lk"||i=="Cr")||this.c_units=="MiBiTr"&&!(i=="Mi"||i=="Bi"||i=="Tr"))return;this.units[n]+=i,i=="Lk"||i=="Cr"?(this.c_units="LkCr",this.LkCrDisplay="inline",this.MiBiTrDisplay="none"):(this.c_units="MiBiTr",this.LkCrDisplay="none",this.MiBiTrDisplay="inline"),this.ops.push("_"),this.numbers.push(0),this.units.push(""),this.prev="numbers"}else i=="C"?(this.numbers=[0],this.ops=[""],this.units=[""],n=this.numbers.length-1,this.line2=""):i=="CE"?(n==0?(this.numbers=[0],this.ops=[""],this.units=[""]):(this.numbers[n]!=0?(this.numbers[n]=0,this.units[n]="",e=this.ops[this.ops.length-1]):(this.numbers.pop(),this.ops.pop(),this.units.pop()),n--),this.line2=""):i=="X";console.log(this.numbers),console.log(this.ops);var l="";for(let u=0;u<=n;u++)this.ops[u]!="_"&&(l+=this.ops[u]),!(this.ops[u]=="_"&&this.numbers[u]==0)&&(l+=String(this.numbers[u]),l+=String(this.units[u]));this.line1=l+e}calculate_answer(){this.line2="";var i=this.numbers.length-1,n=0;for(let v=0;v<=i;v++){var e=this.numbers[v];switch(this.units[v]){case"Lk":e=1e5*e;break;case"Cr":e=1e7*e;break;case"Mi":e=1e6*e;break;case"Bi":e=1e9*e;break;case"Tr":e=1e12*e;break}switch(this.ops[v]){case"":n=e;break;case"+":n+=e;break;case"-":n-=e;break;case"x":n*=e;break;case"\xF7":n/=e;break;case"_":n+=e;break}}if(this.numbers=[],this.ops=[""],this.units=[],this.c_units=="LkCr"){var p=Math.floor(n/1e5),t=Math.floor(p/100);p=p-100*t;var l=n-t*1e7-p*1e5;t>0&&(this.line2+=t+"Cr",this.numbers.push(t),this.units.push("Cr"),this.ops.push("_")),p>0&&(this.line2+=p+"Lk",this.numbers.push(p),this.units.push("Lk"),this.ops.push("_")),l>0&&(this.line2+=l,this.numbers.push(l),this.units.push(""))}else if(this.c_units=="MiBiTr"){var u=Math.floor(n/1e6),c=Math.floor(u/1e3),I=Math.floor(c/1e3);u=u-c*1e3,c=c-I*1e3;var l=n-u*1e6-c*1e9-I*1e12;I>0&&(this.line2+=I+"Tr",this.numbers.push(I),this.units.push("Tr"),this.ops.push("_")),c>0&&(this.line2+=c+"Bi",this.numbers.push(c),this.units.push("Bi"),this.ops.push("_")),u>0&&(this.line2+=u+"Mi",this.numbers.push(u),this.units.push("Mi"),this.ops.push("_")),l>0&&(this.line2+=l,this.numbers.push(l),this.units.push(""))}else this.line2=String(n),this.numbers.push(n),this.units.push("");this.line1="0"}};a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=_({type:a,selectors:[["app-root"]],standalone:!0,features:[b],decls:37,vars:17,consts:[[1,"main"],["id","screen",3,"line1","line2"],["id","numbers",1,"section"],["value","1",3,"sendInput"],["value","2",3,"sendInput"],["value","3",3,"sendInput"],["value","4",3,"sendInput"],["value","5",3,"sendInput"],["value","6",3,"sendInput"],["value","7",3,"sendInput"],["value","8",3,"sendInput"],["value","9",3,"sendInput"],["value","0",3,"sendInput"],["value",".",3,"sendInput"],["id","ops",1,"section"],["value","=",3,"sendInput"],["value","+",3,"sendInput"],["value","-",3,"sendInput"],["value","x",3,"sendInput"],["value","\xF7",3,"sendInput"],["id","units",1,"section"],["value","Lk",3,"sendInput"],["value","Cr",3,"sendInput"],["value","Mi",3,"sendInput"],["value","Bi",3,"sendInput"],["value","Tr",3,"sendInput"],["id","clear",1,"section"],["value","CE",3,"sendInput"],["value","C",3,"sendInput"]],template:function(n,e){n&1&&(s(0,"main",0),h(1,"app-screen",1),s(2,"div",2)(3,"app-button",3),o("sendInput",function(t){return e.handleInput(t)}),r(),s(4,"app-button",4),o("sendInput",function(t){return e.handleInput(t)}),r(),s(5,"app-button",5),o("sendInput",function(t){return e.handleInput(t)}),r(),h(6,"br"),s(7,"app-button",6),o("sendInput",function(t){return e.handleInput(t)}),r(),s(8,"app-button",7),o("sendInput",function(t){return e.handleInput(t)}),r(),s(9,"app-button",8),o("sendInput",function(t){return e.handleInput(t)}),r(),h(10,"br"),s(11,"app-button",9),o("sendInput",function(t){return e.handleInput(t)}),r(),s(12,"app-button",10),o("sendInput",function(t){return e.handleInput(t)}),r(),s(13,"app-button",11),o("sendInput",function(t){return e.handleInput(t)}),r(),h(14,"br"),s(15,"app-button",12),o("sendInput",function(t){return e.handleInput(t)}),r(),s(16,"app-button",13),o("sendInput",function(t){return e.handleInput(t)}),r()(),s(17,"div",14)(18,"app-button",15),o("sendInput",function(t){return e.handleInput(t)}),r(),h(19,"br"),s(20,"app-button",16),o("sendInput",function(t){return e.handleInput(t)}),r(),h(21,"br"),s(22,"app-button",17),o("sendInput",function(t){return e.handleInput(t)}),r(),h(23,"br"),s(24,"app-button",18),o("sendInput",function(t){return e.handleInput(t)}),r(),h(25,"br"),s(26,"app-button",19),o("sendInput",function(t){return e.handleInput(t)}),r()(),s(27,"div",20)(28,"app-button",21),o("sendInput",function(t){return e.handleInput(t)}),r(),s(29,"app-button",22),o("sendInput",function(t){return e.handleInput(t)}),r(),s(30,"app-button",23),o("sendInput",function(t){return e.handleInput(t)}),r(),s(31,"app-button",24),o("sendInput",function(t){return e.handleInput(t)}),r(),s(32,"app-button",25),o("sendInput",function(t){return e.handleInput(t)}),r()(),s(33,"div",26)(34,"app-button",27),o("sendInput",function(t){return e.handleInput(t)}),r(),s(35,"app-button",28),o("sendInput",function(t){return e.handleInput(t)}),r()()(),h(36,"router-outlet")),n&2&&(d(),T("line1",e.line1),T("line2",e.line2),d(27),f("display:",e.LkCrDisplay,";"),d(),f("display:",e.LkCrDisplay,";"),d(),f("display:",e.MiBiTrDisplay,";"),d(),f("display:",e.MiBiTrDisplay,";"),d(),f("display:",e.MiBiTrDisplay,";"))},dependencies:[D,L,M],styles:['.main[_ngcontent-%COMP%]{border:2px solid #000;width:fit-content;padding:4px;border-radius:8px;display:grid;grid-template-areas:"screen screen" "clear ops" "numbers ops" "units units"}.section[_ngcontent-%COMP%]{padding:2px;margin:4px}#screen[_ngcontent-%COMP%]{grid-area:screen}#numbers[_ngcontent-%COMP%]{grid-area:numbers}#ops[_ngcontent-%COMP%]{grid-area:ops}#units[_ngcontent-%COMP%]{grid-area:units}#clear[_ngcontent-%COMP%]{grid-area:clear}']});let m=a;return m})();var w=[];var P={providers:[B(w),k()]};var R={providers:[A()]},x=S(P,R);var N=()=>E(O,x),ge=N;export{ge as a};
